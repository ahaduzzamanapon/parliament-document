@extends('Layouts.backend_master')

@section('main-content')
<div class="w-full px-5 lg:ps-8  bg-[#F2F8FF]">
    <p class="font-solaimans text-15 text-black leading-4 py-4">{{ __('messages.Home') }} / {{ __('messages.Roles') }} {{ __('messages.and') }} {{ __('messages.Permissions') }}</p>
</div>

<div class=" py-3 px-8 w-full ">
    <div class="bg-white rounded shadow py-4 px-5">
        <div class="lg:flex justify-between items-center">
            <h3 class="font-solaimans text-20 leading-5 w-full lg:w-[35%] xl:w-[40%]">{{ __('messages.Roles') }} {{ __('messages.and') }} {{ __('messages.Permissions') }}</h3>
            <div class="lg:w-[65%] xl:w-[60%] md:flex items-center  mt-2 gap-3 lg:mt-0">
                <div class="w-full md:w-[35%] lg:w-full relative flex items-center justify-end">
                <input id="search-folder"
                        class="w-[4.375em] ps-1 py-1 pe-8 transition-all duration-500 ease-in-out focus:translate-x-0  rounded-lg border focus:outline-none border-[#007A43]"
                        type="text">
                    <svg class="absolute md:right-[3%] lg:top-[18%] lg:right-1" xmlns="http://www.w3.org/2000/svg"
                        width="25" height="25" viewBox="0 0 25 25" fill="none">
                        <path
                            d="M15.75 0.666169C14.1605 0.665377 12.6045 1.12379 11.2694 1.98629C9.93418 2.84878 8.87658 4.07863 8.22377 5.52792C7.57095 6.97722 7.35071 8.58424 7.58954 10.1557C7.82837 11.7272 8.51609 13.1963 9.57 14.3862L1.5 23.5462L2.62 24.5462L10.67 15.4262C11.7055 16.2361 12.9195 16.7869 14.2109 17.0327C15.5023 17.2785 16.8338 17.2121 18.0944 16.8391C19.355 16.4662 20.5082 15.7974 21.458 14.8885C22.4078 13.9796 23.1267 12.8569 23.5548 11.614C23.9829 10.371 24.1078 9.04377 23.9191 7.74278C23.7303 6.44178 23.2335 5.20471 22.4699 4.1346C21.7063 3.06449 20.6981 2.19233 19.5292 1.59075C18.3603 0.989179 17.0646 0.675611 15.75 0.676169V0.666169ZM15.75 15.6662C13.9598 15.6662 12.2429 14.955 10.977 13.6891C9.71116 12.4233 9 10.7064 9 8.91617C9 7.12596 9.71116 5.40907 10.977 4.1432C12.2429 2.87733 13.9598 2.16617 15.75 2.16617C17.5402 2.16617 19.2571 2.87733 20.523 4.1432C21.7888 5.40907 22.5 7.12596 22.5 8.91617C22.5 10.7064 21.7888 12.4233 20.523 13.6891C19.2571 14.955 17.5402 15.6662 15.75 15.6662Z"
                            fill="#007A43" />
                    </svg>
                </div>
                <button onclick="creareUserModal.showModal()" class="bg-[#F8B200] mt-2  md:mt-0 w-full md:w-[25%] lg:w-[20%] p-2  rounded-md">
                    <div class="w-full h-full flex">
                        <svg class="lg:w-[30%] xl:w-[20%]" xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17" fill="none">
                            <path d="M10.8 10.2979C9.90312 10.2979 9.47188 10.7979 8 10.7979C6.52812 10.7979 6.1 10.2979 5.2 10.2979C2.88125 10.2979 1 12.1791 1 14.4979V15.2979C1 16.126 1.67188 16.7979 2.5 16.7979H13.5C14.3281 16.7979 15 16.126 15 15.2979V14.4979C15 12.1791 13.1187 10.2979 10.8 10.2979ZM13.5 15.2979H2.5V14.4979C2.5 13.0104 3.7125 11.7979 5.2 11.7979C5.65625 11.7979 6.39687 12.2979 8 12.2979C9.61563 12.2979 10.3406 11.7979 10.8 11.7979C12.2875 11.7979 13.5 13.0104 13.5 14.4979V15.2979ZM8 9.79785C10.4844 9.79785 12.5 7.78223 12.5 5.29785C12.5 2.81348 10.4844 0.797852 8 0.797852C5.51562 0.797852 3.5 2.81348 3.5 5.29785C3.5 7.78223 5.51562 9.79785 8 9.79785ZM8 2.29785C9.65312 2.29785 11 3.64473 11 5.29785C11 6.95098 9.65312 8.29785 8 8.29785C6.34688 8.29785 5 6.95098 5 5.29785C5 3.64473 6.34688 2.29785 8 2.29785Z" fill="white"/>
                        </svg>
                        <a class="font-solaimans text-12 xl:text-14 text-white font-medium leading-normal w-[80%]">{{ __('messages.New') }} {{ __('messages.Roles') }}</a>
                    </div>
                </button>
            </div>
        </div>
        <div class="bg-white">
            <div class="gap-2 lg:gap-8">
        
                <div class="w-full  py-3">
                    <div class="overflow-x-auto">
                        <table class="table">
                          <thead class="bg-[#E9FFE4] w-full">
                            <tr>
                              <th colspan="3"><h2 class="text-[#007A43] text-18 font-solaimans font-semibold">User Role Name</th>
                            </tr>
                          </thead>
                          <tbody id="myTable">
                            <?php ?>
                            @foreach ($roles as $role)
                            <tr >
                              <th class="text-[#082303] font-solaimans text-16">{{$role->name}}</th>
                              <td class="ps-0 lg:ps-[10%] xl:ps-[15%]">
                                <button onclick="updaterole({{$role->id}});updateUserModal.showModal()" class="border border-[#007A43] flex items-center gap-1 px-3 py-1 rounded">
                                    <span>
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                                            <path d="M15.1809 11.5928L11.7502 8.16211C11.0735 7.48535 10.0627 7.35352 9.24829 7.75488L6.12524 4.63184V2.8125L2.37524 0L0.500244 1.875L3.31274 5.625H5.13208L8.25513 8.74805C7.85669 9.5625 7.9856 10.5732 8.66235 11.25L12.093 14.6807C12.5208 15.1084 13.2122 15.1084 13.637 14.6807L15.1809 13.1367C15.6057 12.709 15.6057 12.0176 15.1809 11.5928ZM10.218 6.5918C11.0471 6.5918 11.8264 6.91406 12.4124 7.5L12.9807 8.06836C13.4436 7.86621 13.8831 7.58496 14.2639 7.2041C15.3508 6.11719 15.72 4.58789 15.3743 3.19922C15.3098 2.93555 14.9788 2.84473 14.7854 3.03809L12.6057 5.21777L10.6165 4.88672L10.2854 2.89746L12.4651 0.717773C12.6584 0.524414 12.5647 0.193359 12.2981 0.125977C10.9094 -0.216797 9.38013 0.152344 8.29614 1.23633C7.46118 2.07129 7.0686 3.17285 7.08911 4.27148L9.49438 6.67676C9.73169 6.62109 9.97778 6.5918 10.218 6.5918ZM7.17407 8.99414L5.51294 7.33301L1.0481 11.8008C0.315674 12.5332 0.315674 13.7197 1.0481 14.4521C1.78052 15.1846 2.96704 15.1846 3.69946 14.4521L7.32056 10.8311C7.0979 10.248 7.03052 9.6123 7.17407 8.99414ZM2.37524 13.8281C1.98853 13.8281 1.67212 13.5117 1.67212 13.125C1.67212 12.7354 1.9856 12.4219 2.37524 12.4219C2.76489 12.4219 3.07837 12.7354 3.07837 13.125C3.07837 13.5117 2.76489 13.8281 2.37524 13.8281Z" fill="#007A43"/>
                                        </svg>
                                    </span>
                                    <a class="text-[#007A43] font-solaimans text-16">{{ __('messages.Permissions') }} {{ __('messages.edit') }}</a>
                                </button>
                             </td>
                              <td class="flex justify-end">
                                @unless ($role->name == 'admin' || $role->name == 'Admin' || $role->name == 'user' || $role->name == 'User')
                                <a href="{{url('/role_permission/delete/'.$role->id)}}" class="text-[#007A43] font-p-posts text-16">
                                    <button class="border border-[#FF715B] flex items-center gap-1 px-3 py-1 rounded">
                                        <span>
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="15" viewBox="0 0 16 15" fill="none">
                                                <path d="M9.28906 12.1875H9.99219C10.0854 12.1875 10.1748 12.1505 10.2408 12.0845C10.3067 12.0186 10.3438 11.9292 10.3438 11.8359V5.50781C10.3438 5.41457 10.3067 5.32515 10.2408 5.25922C10.1748 5.19329 10.0854 5.15625 9.99219 5.15625H9.28906C9.19582 5.15625 9.1064 5.19329 9.04047 5.25922C8.97454 5.32515 8.9375 5.41457 8.9375 5.50781V11.8359C8.9375 11.9292 8.97454 12.0186 9.04047 12.0845C9.1064 12.1505 9.19582 12.1875 9.28906 12.1875ZM14.0938 2.34375H11.6794L10.6833 0.682617C10.5583 0.474321 10.3815 0.30196 10.17 0.182331C9.9586 0.0627019 9.71978 -0.000115529 9.47686 1.59506e-07H6.52314C6.28032 -1.43194e-05 6.04162 0.0628512 5.8303 0.182475C5.61898 0.3021 5.44224 0.474406 5.31729 0.682617L4.32061 2.34375H1.90625C1.78193 2.34375 1.6627 2.39314 1.57479 2.48104C1.48689 2.56895 1.4375 2.68818 1.4375 2.8125V3.28125C1.4375 3.40557 1.48689 3.5248 1.57479 3.61271C1.6627 3.70061 1.78193 3.75 1.90625 3.75H2.375V13.5938C2.375 13.9667 2.52316 14.3244 2.78688 14.5881C3.0506 14.8518 3.40829 15 3.78125 15H12.2188C12.5917 15 12.9494 14.8518 13.2131 14.5881C13.4768 14.3244 13.625 13.9667 13.625 13.5938V3.75H14.0938C14.2181 3.75 14.3373 3.70061 14.4252 3.61271C14.5131 3.5248 14.5625 3.40557 14.5625 3.28125V2.8125C14.5625 2.68818 14.5131 2.56895 14.4252 2.48104C14.3373 2.39314 14.2181 2.34375 14.0938 2.34375ZM6.47187 1.4915C6.48754 1.46543 6.50971 1.44386 6.53621 1.42892C6.5627 1.41398 6.59263 1.40616 6.62305 1.40625H9.37695C9.40732 1.40622 9.43719 1.41405 9.46363 1.42899C9.49007 1.44393 9.51219 1.46547 9.52783 1.4915L10.0394 2.34375H5.96064L6.47187 1.4915ZM12.2188 13.5938H3.78125V3.75H12.2188V13.5938ZM6.00781 12.1875H6.71094C6.80418 12.1875 6.8936 12.1505 6.95953 12.0845C7.02546 12.0186 7.0625 11.9292 7.0625 11.8359V5.50781C7.0625 5.41457 7.02546 5.32515 6.95953 5.25922C6.8936 5.19329 6.80418 5.15625 6.71094 5.15625H6.00781C5.91457 5.15625 5.82515 5.19329 5.75922 5.25922C5.69329 5.32515 5.65625 5.41457 5.65625 5.50781V11.8359C5.65625 11.9292 5.69329 12.0186 5.75922 12.0845C5.82515 12.1505 5.91457 12.1875 6.00781 12.1875Z" fill="#FF715B"/>
                                            </svg>
                                        </span>
                                        <span class="text-[#FF715B] font-solaimans text-16">{{ __('messages.delete') }}</span>
                                    </button>
                                </a>
                                @endunless
                              </td>
                            </tr>
                            @endforeach
                          </tbody>
                        </table>
                      </div>
        
        
                </div>
        
            </div>
        </div>
    </div>
</div>

<script>
  $(document).ready(function(){
    $("#search-folder").on("keyup", function() {
      var value = $(this).val().toLowerCase();
      $("#myTable tr").filter(function() {
        $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
      });
    });
  });
  </script>
@endsection